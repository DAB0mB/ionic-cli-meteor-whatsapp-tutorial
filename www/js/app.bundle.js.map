{"version":3,"sources":["webpack:///webpack/bootstrap a416e0d1ef98fd82e789","webpack:///./server/common.js","webpack:///./server/collections.js","webpack:///external \"Package[\\\"mongo\\\"]\"","webpack:///./server/methods.js","webpack:///external \"Package[\\\"underscore\\\"]\"","webpack:///external \"Package[\\\"check\\\"]\"","webpack:///./src/app.js","webpack:///external \"angular\"","webpack:///external \"ionic\"","webpack:///external \"this.cordova && cordova.plugins && cordova.plugins.Keyboard\"","webpack:///external \"this.cordova && cordova.plugins && cordova.plugins.StatusBar\"","webpack:///./src/definer.js","webpack:///./src/entities.js","webpack:///./src/controllers/chats.controller.js","webpack:///./src/controllers/chat.controller.js","webpack:///./src/controllers/confirmation.controller.js","webpack:///./src/controllers/login.controller.js","webpack:///external \"Package[\\\"accounts-base\\\"]\"","webpack:///./src/controllers/new-chat.controller.js","webpack:///./src/controllers/profile.controller.js","webpack:///./src/controllers/settings.controller.js","webpack:///./src/directives/input.directive.js","webpack:///./src/filters/calendar.filter.js","webpack:///external \"moment\"","webpack:///./src/filters/chat-name.filter.js","webpack:///./src/filters/chat-picture.filter.js","webpack:///./src/services/new-chat.service.js","webpack:///./src/routes.js"],"names":[],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a416e0d1ef98fd82e789\n **/","import './collections';\nimport './methods';\n\n\n/** WEBPACK FOOTER **\n ** ./server/common.js\n **/","import { Mongo } from 'meteor/mongo';\n\nexport const Chats = new Mongo.Collection('chats');\nexport const Messages = new Mongo.Collection('messages');\n\n\n/** WEBPACK FOOTER **\n ** ./server/collections.js\n **/","module.exports = Package[\"mongo\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Package[\\\"mongo\\\"]\"\n ** module id = 3\n ** module chunks = 0\n **/","import { _ } from 'meteor/underscore';\nimport { check, Match } from 'meteor/check';\nimport { Chats, Messages } from './collections';\n\nMeteor.methods({\n  newMessage(message) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-logged-in',\n        'Must be logged in to send message.');\n    }\n\n    check(message, Match.OneOf(\n      {\n        text: String,\n        type: String,\n        chatId: String\n      },\n      {\n        picture: String,\n        type: String,\n        chatId: String\n      }\n    ));\n\n    message.timestamp = new Date();\n    message.userId = this.userId;\n\n    const messageId = Messages.insert(message);\n    Chats.update(message.chatId, { $set: { lastMessage: message } });\n\n    return messageId;\n  },\n  updateName(name) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-logged-in',\n        'Must be logged in to update his name.');\n    }\n\n    check(name, String);\n\n    if (name.length === 0) {\n      throw Meteor.Error('name-required', 'Must provide a user name');\n    }\n\n    return Meteor.users.update(this.userId, { $set: { 'profile.name': name } });\n  },\n  newChat(otherId) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-logged-in',\n        'Must be logged to create a chat.');\n    }\n\n    check(otherId, String);\n    const otherUser = Meteor.users.findOne(otherId);\n\n    if (!otherUser) {\n      throw new Meteor.Error('user-not-exists',\n        'Chat\\'s user not exists');\n    }\n\n    const chat = {\n      userIds: [this.userId, otherId],\n      createdAt: new Date()\n    };\n\n    const chatId = Chats.insert(chat);\n\n    return chatId;\n  },\n  removeChat(chatId) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-logged-in',\n        'Must be logged to create a chat.');\n    }\n\n    check(chatId, String);\n\n    const chat = Chats.findOne(chatId);\n\n    if (!chat || !_.include(chat.userIds, this.userId)) {\n      throw new Meteor.Error('chat-not-exists',\n        'Chat not exists');\n    }\n\n    Messages.remove({ chatId: chatId });\n\n    return Chats.remove({ _id: chatId });\n  },\n  updatePicture(data) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-logged-in',\n        'Must be logged in to update his picture.');\n    }\n\n    check(data, String);\n\n    return Meteor.users.update(this.userId, { $set: { 'profile.picture': data } });\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./server/methods.js\n **/","module.exports = Package[\"underscore\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Package[\\\"underscore\\\"]\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = Package[\"check\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Package[\\\"check\\\"]\"\n ** module id = 6\n ** module chunks = 0\n **/","import angular from 'angular';\nimport ionic from 'ionic';\nimport keyboard from 'cordova/keyboard';\nimport statusbar from 'cordova/status-bar';\n\nimport Definer from './definer';\nimport ChatsCtrl from './controllers/chats.controller';\nimport ChatCtrl from './controllers/chat.controller';\nimport ConfirmationCtrl from './controllers/confirmation.controller';\nimport LoginCtrl from './controllers/login.controller';\nimport NewChatCtrl from './controllers/new-chat.controller';\nimport ProfileCtrl from './controllers/profile.controller';\nimport SettingsCtrl from './controllers/settings.controller';\nimport InputDirective from './directives/input.directive';\nimport CalendarFilter from './filters/calendar.filter';\nimport ChatNameFilter from './filters/chat-name.filter';\nimport ChatPictureFilter from './filters/chat-picture.filter';\nimport NewChatService from './services/new-chat.service';\nimport { RoutesConfig, RoutesRunner } from './routes';\n\nexport const App = angular.module('Whatsapp', [\n  'angular-meteor',\n  'angular-meteor.auth',\n  'angularMoment',\n  'ionic'\n]);\n\nnew Definer(App)\n  .define(ChatsCtrl)\n  .define(ChatCtrl)\n  .define(ConfirmationCtrl)\n  .define(LoginCtrl)\n  .define(NewChatCtrl)\n  .define(ProfileCtrl)\n  .define(SettingsCtrl)\n  .define(InputDirective)\n  .define(CalendarFilter)\n  .define(ChatNameFilter)\n  .define(ChatPictureFilter)\n  .define(NewChatService)\n  .define(RoutesConfig)\n  .define(RoutesRunner);\n\nionic.Platform.ready(() => {\n  if (keyboard) {\n    keyboard.hideKeyboardAccessoryBar(true);\n    keyboard.disableScroll(true);\n  }\n\n  if (statusbar) {\n    statusbar.styleLightContent();\n  }\n\n  angular.bootstrap(document, ['Whatsapp']);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","module.exports = angular;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = ionic;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ionic\"\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = this.cordova && cordova.plugins && cordova.plugins.Keyboard;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"this.cordova && cordova.plugins && cordova.plugins.Keyboard\"\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = this.cordova && cordova.plugins && cordova.plugins.StatusBar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"this.cordova && cordova.plugins && cordova.plugins.StatusBar\"\n ** module id = 11\n ** module chunks = 0\n **/","import angular from 'angular';\nimport { _ } from 'meteor/underscore';\nimport * as Entities from './entities';\n\nexport default class Definer {\n  constructor(module, dependencies) {\n    if (_.isString(module)) {\n      module = angular.module(module, dependencies);\n    }\n\n    this.module = module;\n  }\n\n  define(Entity, ...args) {\n    if (_.isFunction(Entity)) {\n      const proto = Entity.prototype;\n      Entity.$inject = Entity.$inject || [];\n\n      if (proto instanceof Entities.Provider)\n        this._defineProvider(Entity);\n      else if (proto instanceof Entities.Service)\n        this._defineService(Entity);\n      else if (proto instanceof Entities.Controller)\n        this._defineController(Entity);\n      else if (proto instanceof Entities.Decorator)\n        this._defineDecorator(Entity);\n      else if (proto instanceof Entities.Directive)\n        this._defineDirective(Entity);\n      else if (proto instanceof Entities.Factory)\n        this._defineFactory(Entity);\n      else if (proto instanceof Entities.Filter)\n        this._defineFilter(Entity);\n      else if (proto instanceof Entities.Config)\n        this._defineConfig(Entity);\n      else if (proto instanceof Entities.Runner)\n        this._defineRunner(Entity);\n      else\n        throw Error(\"can't define unknown entity type\");\n    }\n    else {\n      this.module[Entity](...args);\n    }\n\n    return this;\n  }\n\n  _defineProvider(Provider) {\n    this.module.provider(Provider.name, Provider);\n  }\n\n  _defineService(Service) {\n    this.module.service(Service.name, Service)\n  }\n\n  _defineController(Controller) {\n    const $inject = Controller.$inject;\n\n    if ($inject.indexOf('$scope') == -1) {\n      $inject.unshift('$scope');\n    }\n\n    this.module.controller(Controller.name, Controller);\n  }\n\n  _defineDecorator(Decorator) {\n    function handler() {\n      const decorator = new Decorator(...arguments);\n      return decorator.decorate.bind(decorator);\n    }\n\n    handler.$inject = Decorator.$inject;\n    this.module.decorator(Decorator.name, handler);\n  }\n\n  _defineDirective(Directive) {\n    function handler() {\n      return new Directive(...arguments);\n    }\n\n    handler.$inject = Directive.$inject;\n    this.module.directive(Directive.name, handler);\n  }\n\n  _defineFactory(Factory) {\n    function handler() {\n      const factory = new Factory(...arguments);\n      return factory.create.bind(factory);\n    }\n\n    handler.$inject = Factory.$inject;\n    this.module.factory(Factory.name, handler);\n  }\n\n  _defineFilter(Filter) {\n    function handler() {\n      const filter = new Filter(...arguments);\n      return filter.filter.bind(filter);\n    }\n\n    handler.$inject = Filter.$inject;\n    this.module.filter(Filter.name, handler);\n  }\n\n  _defineConfig(Config) {\n    function handler() {\n      const config = new Config(...arguments);\n      return config.configure();\n    }\n\n    handler.$inject = Config.$inject;\n    this.module.config(handler);\n  }\n\n  _defineRunner(Runner) {\n    function handler() {\n      const runner = new Runner(...arguments);\n      return runner.run();\n    }\n\n    handler.$inject = Runner.$inject;\n    this.module.run(handler);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/definer.js\n **/","class Injectable {\n  constructor() {\n    this.constructor.$inject.forEach((name, i) => {\n      this[name] = arguments[i];\n    });\n  }\n}\n\nexport class Controller extends Injectable {\n  constructor() {\n    super(...arguments);\n\n    const createViewModel = this.$scope &&\n      (this.$scope.viewModel || this.$scope.$viewModel);\n\n    if (createViewModel) {\n      createViewModel.call(this.$scope, this);\n    }\n  }\n}\n\nexport class Provider extends Injectable {\n}\n\nexport class Service extends Injectable {\n}\n\nexport class Directive extends Injectable {\n  compile() {\n    return this.link.bind(this);\n  }\n}\n\nexport class Decorator extends Injectable {\n  decorate() {\n    throw Error('Decorator#decorate() must be implemented');\n  }\n}\n\nexport class Factory extends Injectable {\n  create() {\n    throw Error('Factory#create() must be implemented');\n  }\n}\n\nexport class Filter extends Injectable {\n  filter() {\n    throw Error('Filter#filter() must be implemented');\n  }\n}\n\nexport class Config extends Injectable {\n  configure() {\n    throw Error('Config#configure() must be implemented');\n  }\n}\n\nexport class Runner extends Injectable {\n  run() {\n    throw Error('Runner#run() must be implemented');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entities.js\n **/","import { Chats } from 'server/collections';\nimport { Controller } from '../entities';\n\nexport default class ChatsCtrl extends Controller {\n  static $inject = ['NewChat']\n\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Chats.find();\n      }\n    });\n  }\n\n  showNewChatModal() {\n    this.NewChat.showModal();\n  }\n\n  remove(chat) {\n    this.callMethod('removeChat', chat._id);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chats.controller.js\n **/","import ionic from 'ionic';\nimport keyboard from 'cordova/keyboard';\nimport { _ } from 'meteor/underscore';\nimport { Chats, Messages } from 'server/collections';\nimport { Controller } from '../entities';\n\nexport default class ChatCtrl extends Controller {\n  static $inject = ['$stateParams', '$timeout', '$ionicScrollDelegate', '$ionicPopup', '$log']\n\n  constructor() {\n    super(...arguments);\n\n    this.chatId = this.$stateParams.chatId;\n    this.isIOS = ionic.Platform.isWebView() && ionic.Platform.isIOS();\n\n    this.helpers({\n      messages() {\n        return Messages.find({ chatId: this.chatId });\n      },\n      data() {\n        return Chats.findOne(this.chatId);\n      }\n    });\n\n    this.autoScrollBottom();\n  }\n\n  sendMessage() {\n    if (_.isEmpty(this.message)) return;\n\n    this.callMethod('newMessage', {\n      text: this.message,\n      type: 'text',\n      chatId: this.chatId\n    });\n\n    delete this.message;\n  }\n\n  inputUp () {\n    if (this.isIOS) {\n      this.keyboardHeight = 216;\n    }\n\n    this.scrollBottom(true);\n  }\n\n  inputDown () {\n    if (this.isIOS) {\n      this.keyboardHeight = 0;\n    }\n\n    this.$ionicScrollDelegate.$getByHandle('chatScroll').resize();\n  }\n\n  closeKeyboard () {\n    if (keyboard) {\n      keyboard.close();\n    }\n  }\n\n  autoScrollBottom() {\n    let recentMessagesNum = this.messages.length;\n\n    this.autorun(() => {\n      const currMessagesNum = this.getCollectionReactively('messages').length;\n      const animate = recentMessagesNum != currMessagesNum;\n      recentMessagesNum = currMessagesNum;\n      this.scrollBottom(animate);\n    });\n  }\n\n  scrollBottom(animate) {\n    this.$timeout(() => {\n      this.$ionicScrollDelegate.$getByHandle('chatScroll').scrollBottom(animate);\n    }, 300);\n  }\n\n  handleError(err) {\n    this.$log.error('Profile save error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Save failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chat.controller.js\n **/","import { _ } from 'meteor/underscore';\nimport { Controller } from '../entities';\n\nexport default class ConfirmationCtrl extends Controller {\n  static $inject = ['$state', '$ionicPopup', '$log']\n\n  constructor() {\n    super(...arguments);\n\n    this.phone = this.$state.params.phone;\n  }\n\n  confirm() {\n    if (_.isEmpty(this.code)) return;\n\n    Accounts.verifyPhone(this.phone, this.code, (err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('profile');\n    });\n  }\n\n  handleError(err) {\n    this.$log.error('Confirmation error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Confirmation failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/confirmation.controller.js\n **/","import { _ } from 'meteor/underscore';\nimport { Accounts } from 'meteor/accounts-base';\nimport { Controller } from '../entities';\n\nexport default class LoginCtrl extends Controller {\n  static $inject = ['$state', '$ionicLoading', '$ionicPopup', '$log']\n\n  login() {\n    if (_.isEmpty(this.phone)) return;\n\n    const confirmPopup = this.$ionicPopup.confirm({\n      title: 'Number confirmation',\n      template: '<div>' + this.phone + '</div><div>Is your phone number above correct?</div>',\n      cssClass: 'text-center',\n      okText: 'Yes',\n      okType: 'button-positive button-clear',\n      cancelText: 'edit',\n      cancelType: 'button-dark button-clear'\n    });\n\n    confirmPopup.then((res) => {\n      if (!res) return;\n\n      this.$ionicLoading.show({\n        template: 'Sending verification code...'\n      });\n\n      Accounts.requestPhoneVerification(this.phone, (err) => {\n        this.$ionicLoading.hide();\n        if (err) return this.handleError(err);\n        this.$state.go('confirmation', { phone: this.phone });\n      });\n    });\n  }\n\n  handleError(err) {\n    this.$log.error('Login error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Login failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/login.controller.js\n **/","module.exports = Package[\"accounts-base\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Package[\\\"accounts-base\\\"]\"\n ** module id = 18\n ** module chunks = 0\n **/","import { Chats } from 'server/collections';\nimport { Controller } from '../entities';\n\nexport default class NewChatCtrl extends Controller {\n  static $inject = ['$state', 'NewChat', '$ionicPopup', '$log']\n\n  constructor() {\n    super(...arguments);\n\n    this.subscribe('users');\n\n    this.helpers({\n      users() {\n        return Meteor.users.find({ _id: { $ne: this.currentUserId } });\n      }\n    });\n  }\n\n  newChat(userId) {\n    let chat = Chats.findOne({ userIds: { $all: [this.currentUserId, userId] } });\n\n    if (chat) {\n      this.hideNewChatModal();\n      return this.goToChat(chat._id);\n    }\n\n    this.callMethod('newChat', userId, (err, chatId) => {\n      this.hideNewChatModal();\n      if (err) return this.handleError(err);\n      this.goToChat(chatId);\n    });\n  }\n\n  hideNewChatModal() {\n    this.NewChat.hideModal();\n  }\n\n  goToChat(chatId) {\n    this.$state.go('tab.chat', { chatId });\n  }\n\n  handleError(err) {\n    this.$log.error('New chat creation error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'New chat creation failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/new-chat.controller.js\n **/","import { _ } from 'meteor/underscore';\nimport { Controller } from '../entities';\n\nexport default class ProfileCtrl extends Controller {\n  static $inject = ['$state', '$ionicPopup', '$log']\n\n  constructor() {\n    super(...arguments);\n\n    const profile = this.currentUser && this.currentUser.profile;\n    this.name = profile ? profile.name : '';\n  }\n\n  updateName() {\n    if (_.isEmpty(this.name)) return;\n\n    this.callMethod('updateName', this.name, (err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('tab.chats');\n    });\n  }\n\n  handleError(err) {\n    this.$log.error('Profile save error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Save failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/profile.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class SettingsCtrl extends Controller {\n  static $inject = ['$state', '$ionicPopup', '$log']\n\n  logout() {\n    Meteor.logout((err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('login');\n    })\n  }\n\n  handleError(err) {\n    this.$log.error('Settings modification error', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Settings modification failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/settings.controller.js\n **/","import { Directive } from '../entities';\n\nexport default class input extends Directive {\n  static $inject = ['$timeout']\n\n  constructor() {\n    super(...arguments);\n\n    this.restrict = 'E';\n\n    this.scope = {\n      'returnClose': '=',\n      'onReturn': '&',\n      'onFocus': '&',\n      'onBlur': '&'\n    };\n  }\n\n  link(scope, element) {\n    element.bind('focus', (e) => {\n      if (!scope.onFocus) return;\n\n      this.$timeout(() => {\n        scope.onFocus();\n      });\n    });\n\n    element.bind('blur', (e) => {\n      if (!scope.onBlur) return;\n\n      this.$timeout(() => {\n        scope.onBlur();\n      });\n    });\n\n    element.bind('keydown', (e) => {\n      if (e.which != 13) return;\n\n      if (scope.returnClose) {\n        element[0].blur();\n      }\n\n      if (scope.onReturn) {\n        this.$timeout(() => {\n          scope.onReturn();\n        });\n      }\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/input.directive.js\n **/","import moment from 'moment';\nimport { Filter } from '../entities';\n\nexport default class calendar extends Filter {\n  filter(time) {\n    if (!time) return;\n\n    return moment(time).calendar(null, {\n      lastDay : '[Yesterday]',\n      sameDay : 'LT',\n      lastWeek : 'dddd',\n      sameElse : 'DD/MM/YY'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/calendar.filter.js\n **/","module.exports = moment;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"moment\"\n ** module id = 24\n ** module chunks = 0\n **/","import { _ } from 'meteor/underscore';\nimport { Filter } from '../entities';\n\nexport default class chatName extends Filter {\n  filter(chat) {\n    if (!chat) return;\n\n    let otherId = _.without(chat.userIds, Meteor.userId())[0];\n    let otherUser = Meteor.users.findOne(otherId);\n    let hasName = otherUser && otherUser.profile && otherUser.profile.name;\n\n    return hasName ? otherUser.profile.name : chat.name || 'NO NAME';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/chat-name.filter.js\n **/","import { _ } from 'meteor/underscore';\nimport { Filter } from '../entities';\n\nexport default class chatPicture extends Filter {\n  filter(chat) {\n    if (!chat) return;\n\n    let otherId = _.without(chat.userIds, Meteor.userId())[0];\n    let otherUser = Meteor.users.findOne(otherId);\n    let hasPicture = otherUser && otherUser.profile && otherUser.profile.picture;\n\n    return hasPicture ? otherUser.profile.picture : chat.picture || '/img/user-default.svg';\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/chat-picture.filter.js\n **/","import { Service } from '../entities';\n\nexport default class NewChat extends Service {\n  static $inject = ['$rootScope', '$ionicModal']\n\n  constructor() {\n    super(...arguments);\n\n    this.templateUrl = 'templates/new-chat.html';\n  }\n\n  showModal() {\n    this.scope = this.$rootScope.$new();\n\n    this.$ionicModal.fromTemplateUrl(this.templateUrl, {\n      scope: this.scope\n    })\n    .then((modal) => {\n      this.modal = modal;\n      this.modal.show();\n    });\n  }\n\n  hideModal() {\n    this.scope.$destroy();\n    this.modal.remove();\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/services/new-chat.service.js\n **/","import { _ } from 'meteor/underscore';\nimport { Config, Runner } from './entities';\n\nexport class RoutesConfig extends Config {\n  static $inject = ['$stateProvider', '$urlRouterProvider']\n\n  constructor() {\n    super(...arguments);\n\n    this.isAuthorized = ['$auth', this.isAuthorized.bind(this)];\n  }\n\n  configure() {\n    this.$stateProvider\n      .state('tab', {\n        url: '/tab',\n        abstract: true,\n        templateUrl: 'templates/tabs.html',\n        resolve: {\n          user: this.isAuthorized,\n          chats() {\n            return Meteor.subscribe('chats');\n          }\n        }\n      })\n      .state('tab.chats', {\n        url: '/chats',\n        views: {\n          'tab-chats': {\n            templateUrl: 'templates/chats.html',\n            controller: 'ChatsCtrl as chats'\n          }\n        }\n      })\n      .state('tab.chat', {\n        url: '/chats/:chatId',\n        views: {\n          'tab-chats': {\n            templateUrl: 'templates/chat.html',\n            controller: 'ChatCtrl as chat'\n          }\n        }\n      })\n      .state('login', {\n        url: '/login',\n        templateUrl: 'templates/login.html',\n        controller: 'LoginCtrl as logger'\n      })\n      .state('confirmation', {\n        url: '/confirmation/:phone',\n        templateUrl: 'templates/confirmation.html',\n        controller: 'ConfirmationCtrl as confirmation'\n      })\n      .state('profile', {\n        url: '/profile',\n        templateUrl: 'templates/profile.html',\n        controller: 'ProfileCtrl as profile',\n        resolve: {\n          user: this.isAuthorized\n        }\n      })\n      .state('tab.settings', {\n        url: '/settings',\n        views: {\n          'tab-settings': {\n            templateUrl: 'templates/settings.html',\n            controller: 'SettingsCtrl as settings',\n          }\n        }\n      });\n\n    this.$urlRouterProvider.otherwise('tab/chats');\n  }\n\n  isAuthorized($auth) {\n    return $auth.awaitUser();\n  }\n}\n\nexport class RoutesRunner extends Runner {\n  static $inject = ['$rootScope', '$state']\n\n  run() {\n    this.$rootScope.$on('$stateChangeError', (...args) => {\n      const err = _.last(args);\n\n      if (err === 'AUTH_REQUIRED') {\n        this.$state.go('login');\n      }\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes.js\n **/"],"sourceRoot":""}