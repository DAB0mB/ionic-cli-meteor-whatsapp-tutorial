{"version":3,"sources":["webpack:///webpack/bootstrap 09a95bbeaff0aee9bc45","webpack:///./src/app.js","webpack:///./src/definer.js","webpack:///./src/entities.js","webpack:///./src/controllers/chats.controller.js","webpack:///./src/controllers/chat.controller.js","webpack:///./src/controllers/confirmation.controller.js","webpack:///./src/controllers/login.controller.js","webpack:///./src/controllers/new-chat.controller.js","webpack:///./src/controllers/profile.controller.js","webpack:///./src/controllers/settings.controller.js","webpack:///./src/directives/input.directive.js","webpack:///./src/filters/calendar.filter.js","webpack:///./src/filters/chat-name.filter.js","webpack:///./src/filters/chat-picture.filter.js","webpack:///./src/services/new-chat.service.js","webpack:///./src/routes.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 09a95bbeaff0aee9bc45\n **/","// Modules\nimport Definer from './definer';\nimport ChatsCtrl from './controllers/chats.controller';\nimport ChatCtrl from './controllers/chat.controller';\nimport ConfirmationCtrl from './controllers/confirmation.controller';\nimport LoginCtrl from './controllers/login.controller';\nimport NewChatCtrl from './controllers/new-chat.controller';\nimport ProfileCtrl from './controllers/profile.controller';\nimport SettingsCtrl from './controllers/settings.controller';\nimport InputDirective from './directives/input.directive';\nimport CalendarFilter from './filters/calendar.filter';\nimport ChatNameFilter from './filters/chat-name.filter';\nimport ChatPictureFilter from './filters/chat-picture.filter';\nimport NewChatService from './services/new-chat.service';\nimport { RoutesConfig, RoutesRunner } from './routes';\n\n// App\nconst App = angular.module('Whatsapp', [\n  'angular-meteor',\n  'angular-meteor.auth',\n  'angularMoment',\n  'ionic'\n]);\n\nnew Definer(App)\n  .define(ChatsCtrl)\n  .define(ChatCtrl)\n  .define(ConfirmationCtrl)\n  .define(LoginCtrl)\n  .define(NewChatCtrl)\n  .define(ProfileCtrl)\n  .define(SettingsCtrl)\n  .define(InputDirective)\n  .define(CalendarFilter)\n  .define(ChatNameFilter)\n  .define(ChatPictureFilter)\n  .define(NewChatService)\n  .define(RoutesConfig)\n  .define(RoutesRunner);\n\n// Startup\nif (Meteor.isCordova) {\n  angular.element(document).on('deviceready', onReady);\n}\nelse {\n  angular.element(document).ready(onReady);\n}\n\nfunction onReady() {\n  angular.bootstrap(document, ['Whatsapp']);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","import * as Entities from './entities';\n\nexport default class Definer {\n  constructor(module, dependencies) {\n    if (_.isString(module)) {\n      module = angular.module(module, dependencies);\n    }\n\n    this.module = module;\n  }\n\n  define(Entity, ...args) {\n    if (_.isFunction(Entity)) {\n      const proto = Entity.prototype;\n      Entity.$inject = Entity.$inject || [];\n\n      if (proto instanceof Entities.Controller)\n        this._defineController(Entity);\n      else if (proto instanceof Entities.Provider)\n        this._defineProvider(Entity);\n      else if (proto instanceof Entities.Service)\n        this._defineService(Entity);\n      else if (proto instanceof Entities.Decorator)\n        this._defineDecorator(Entity);\n      else if (proto instanceof Entities.Directive)\n        this._defineDirective(Entity);\n      else if (proto instanceof Entities.Factory)\n        this._defineFactory(Entity);\n      else if (proto instanceof Entities.Filter)\n        this._defineFilter(Entity);\n      else if (proto instanceof Entities.Config)\n        this._defineConfig(Entity);\n      else if (proto instanceof Entities.Runner)\n        this._defineRunner(Entity);\n      else\n        throw Error(\"can't define unknown entity type\");\n    }\n    else {\n      this.module[Entity](...args);\n    }\n\n    return this;\n  }\n\n  _defineProvider(Provider) {\n    this.module.provider(Provider.name, Provider);\n  }\n\n  _defineController(Controller) {\n    this.module.controller(Controller.name, Controller);\n  }\n\n  _defineService(Service) {\n    this.module.service(Service.name, Service)\n  }\n\n  _defineDecorator(Decorator) {\n    function handler() {\n      const decorator = new Decorator(...arguments);\n      return decorator.decorate.bind(decorator);\n    }\n\n    handler.$inject = Decorator.$inject;\n    this.module.decorator(Decorator.name, handler);\n  }\n\n  _defineDirective(Directive) {\n    function handler() {\n      return new Directive(...arguments);\n    }\n\n    handler.$inject = Directive.$inject;\n    this.module.directive(Directive.name, handler);\n  }\n\n  _defineFactory(Factory) {\n    function handler() {\n      const factory = new Factory(...arguments);\n      return factory.create.bind(factory);\n    }\n\n    handler.$inject = Factory.$inject;\n    this.module.factory(Factory.name, handler);\n  }\n\n  _defineFilter(Filter) {\n    function handler() {\n      const filter = new Filter(...arguments);\n      return filter.filter.bind(filter);\n    }\n\n    handler.$inject = Filter.$inject;\n    this.module.filter(Filter.name, handler);\n  }\n\n  _defineConfig(Config) {\n    function handler() {\n      const config = new Config(...arguments);\n      return config.configure();\n    }\n\n    handler.$inject = Config.$inject;\n    this.module.config(handler);\n  }\n\n  _defineRunner(Runner) {\n    function handler() {\n      const runner = new Runner(...arguments);\n      return runner.run();\n    }\n\n    handler.$inject = Runner.$inject;\n    this.module.run(handler);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/definer.js\n **/","class Injectable {\n  constructor() {\n    this.constructor.$inject.forEach((name, i) => {\n      this[name] = arguments[i];\n    });\n  }\n}\n\nexport class Controller extends Injectable {\n  constructor() {\n    super(...arguments);\n\n    const createViewModel = this.$scope &&\n      (this.$scope.viewModel || this.$scope.$viewModel);\n\n    if (createViewModel) {\n      createViewModel.call(this.$scope, this);\n    }\n  }\n}\n\nexport class Provider extends Injectable {\n}\n\nexport class Service extends Injectable {\n}\n\nexport class Directive extends Injectable {\n  compile() {\n    return this.link.bind(this);\n  }\n}\n\nexport class Decorator extends Injectable {\n  decorate() {\n    throw Error('Decorator#decorate() must be implemented');\n  }\n}\n\nexport class Factory extends Injectable {\n  create() {\n    throw Error('Factory#create() must be implemented');\n  }\n}\n\nexport class Filter extends Injectable {\n  filter() {\n    throw Error('Filter#filter() must be implemented');\n  }\n}\n\nexport class Config extends Injectable {\n  configure() {\n    throw Error('Config#configure() must be implemented');\n  }\n}\n\nexport class Runner extends Injectable {\n  run() {\n    throw Error('Runner#run() must be implemented');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entities.js\n **/","import { Controller } from '../entities';\n\nexport default class ChatsCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Chats.find();\n      }\n    });\n  }\n\n  showNewChatModal() {\n    this.NewChat.showModal();\n  }\n\n  remove(chat) {\n    this.callMethod('removeChat', chat._id);\n  }\n}\n\nChatsCtrl.$inject = ['$scope', 'NewChat'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chats.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class ChatCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.chatId = this.$stateParams.chatId;\n    this.isIOS = ionic.Platform.isWebView() && ionic.Platform.isIOS();\n    this.isCordova = Meteor.isCordova;\n\n    this.helpers({\n      messages() {\n        return Messages.find({ chatId: this.chatId });\n      },\n      data() {\n        return Chats.findOne(this.chatId);\n      }\n    });\n\n    this.autoScroll();\n  }\n\n  sendPicture() {\n    MeteorCameraUI.getPicture({}, (err, data) => {\n      if (err) return this.handleError(err);\n\n      this.callMethod('newMessage', {\n        picture: data,\n        type: 'picture',\n        chatId: this.chatId\n      });\n    });\n  }\n\n  sendMessage() {\n    if (_.isEmpty(this.message)) return;\n\n    this.callMethod('newMessage', {\n      text: this.message,\n      type: 'text',\n      chatId: this.chatId\n    });\n\n    delete this.message;\n  }\n\n  inputUp () {\n    if (this.isIOS) {\n      this.keyboardHeight = 216;\n    }\n\n    this.$timeout(() => {\n      this.$ionicScrollDelegate.$getByHandle('chatScroll').scrollBottom(true);\n    }, 300);\n  }\n\n  inputDown () {\n    if (this.isIOS) {\n      this.keyboardHeight = 0;\n    }\n\n    this.$ionicScrollDelegate.$getByHandle('chatScroll').resize();\n  }\n\n  closeKeyboard () {\n    if (this.isCordova) {\n      cordova.plugins.Keyboard.close();\n    }\n  }\n\n  autoScroll() {\n    let recentMessagesNum = this.messages.length;\n\n    this.autorun(() => {\n      const currMessagesNum = this.getCollectionReactively('messages').length;\n      const animate = recentMessagesNum != currMessagesNum;\n      recentMessagesNum = currMessagesNum;\n\n      this.$ionicScrollDelegate.$getByHandle('chatScroll').scrollBottom(animate);\n    });\n  }\n\n  handleError(err) {\n    if (err.error == 'cancel') return;\n    this.$log.error('Profile save error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Save failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nChatCtrl.$inject = ['$scope', '$stateParams', '$timeout', '$ionicScrollDelegate', '$ionicPopup', '$log'];\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chat.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class ConfirmationCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.phone = this.$state.params.phone;\n  }\n\n  confirm() {\n    if (_.isEmpty(this.code)) return;\n\n    Accounts.verifyPhone(this.phone, this.code, (err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('profile');\n    });\n  }\n\n  handleError(err) {\n    this.$log.error('Confirmation error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Confirmation failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nConfirmationCtrl.$inject = ['$scope', '$state', '$ionicPopup', '$log'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/confirmation.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class LoginCtrl extends Controller {\n  login() {\n    if (_.isEmpty(this.phone)) return;\n\n    const confirmPopup = this.$ionicPopup.confirm({\n      title: 'Number confirmation',\n      template: '<div>' + this.phone + '</div><div>Is your phone number above correct?</div>',\n      cssClass: 'text-center',\n      okText: 'Yes',\n      okType: 'button-positive button-clear',\n      cancelText: 'edit',\n      cancelType: 'button-dark button-clear'\n    });\n\n    confirmPopup.then((res) => {\n      if (!res) return;\n\n      this.$ionicLoading.show({\n        template: 'Sending verification code...'\n      });\n\n      Accounts.requestPhoneVerification(this.phone, (err) => {\n        this.$ionicLoading.hide();\n        if (err) return this.handleError(err);\n        this.$state.go('confirmation', { phone: this.phone });\n      });\n    });\n  }\n\n  handleError(err) {\n    this.$log.error('Login error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Login failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nLoginCtrl.$inject = ['$scope', '$state', '$ionicLoading', '$ionicPopup', '$log'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/login.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class NewChatCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.subscribe('users');\n\n    this.helpers({\n      users() {\n        return Meteor.users.find({ _id: { $ne: this.currentUserId } });\n      }\n    });\n  }\n\n  newChat(userId) {\n    let chat = Chats.findOne({ userIds: { $all: [this.currentUserId, userId] } });\n\n    if (chat) {\n      this.hideNewChatModal();\n      return this.goToChat(chat._id);\n    }\n\n    this.callMethod('newChat', userId, (err, chatId) => {\n      this.hideNewChatModal();\n      if (err) return this.handleError(err);\n      this.goToChat(chatId);\n    });\n  }\n\n  hideNewChatModal() {\n    this.NewChat.hideModal();\n  }\n\n  goToChat(chatId) {\n    this.$state.go('tab.chat', { chatId });\n  }\n\n  handleError(err) {\n    this.$log.error('New chat creation error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'New chat creation failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nNewChatCtrl.$inject = ['$scope', '$state', 'NewChat', '$ionicPopup', '$log'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/new-chat.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class ProfileCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    const profile = this.currentUser && this.currentUser.profile;\n    this.name = profile ? profile.name : '';\n  }\n\n  updatePicture () {\n    MeteorCameraUI.getPicture({ width: 60, height: 60 }, (err, data) => {\n      if (err) return this.handleError(err);\n\n      this.$ionicLoading.show({\n        template: 'Updating picture...'\n      });\n\n      this.callMethod('updatePicture', data, (err) => {\n        this.$ionicLoading.hide();\n        this.handleError(err);\n      });\n    });\n  }\n\n  updateName() {\n    if (_.isEmpty(this.name)) return;\n\n    this.callMethod('updateName', this.name, (err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('tab.chats');\n    });\n  }\n\n  handleError(err) {\n    if (err.error == 'cancel') return;\n    this.$log.error('Profile save error ', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Save failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nProfileCtrl.$inject = ['$scope', '$state', '$ionicPopup', '$log'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/profile.controller.js\n **/","import { Controller } from '../entities';\n\nexport default class SettingsCtrl extends Controller {\n  logout() {\n    Meteor.logout((err) => {\n      if (err) return this.handleError(err);\n      this.$state.go('login');\n    })\n  }\n\n  handleError (err) {\n    this.$log.error('Settings modification error', err);\n\n    this.$ionicPopup.alert({\n      title: err.reason || 'Settings modification failed',\n      template: 'Please try again',\n      okType: 'button-positive button-clear'\n    });\n  }\n}\n\nSettingsCtrl.$inject = ['$scope', '$state', '$ionicPopup', '$log'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/settings.controller.js\n **/","import { Directive } from '../entities';\n\nexport default class input extends Directive {\n  constructor() {\n    super(...arguments);\n\n    this.restrict = 'E';\n\n    this.scope = {\n      'returnClose': '=',\n      'onReturn': '&',\n      'onFocus': '&',\n      'onBlur': '&'\n    };\n  }\n\n  link(scope, element) {\n    element.bind('focus', (e) => {\n      if (!scope.onFocus) return;\n\n      this.$timeout(() => {\n        scope.onFocus();\n      });\n    });\n\n    element.bind('blur', (e) => {\n      if (!scope.onBlur) return;\n\n      this.$timeout(() => {\n        scope.onBlur();\n      });\n    });\n\n    element.bind('keydown', (e) => {\n      if (e.which != 13) return;\n\n      if (scope.returnClose) {\n        element[0].blur();\n      }\n\n      if (scope.onReturn) {\n        this.$timeout(() => {\n          scope.onReturn();\n        });\n      }\n    });\n  }\n}\n\ninput.$inject = ['$timeout'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/input.directive.js\n **/","import { Filter } from '../entities';\n\nexport default class calendar extends Filter {\n  filter(time) {\n    if (!time) return;\n\n    return moment(time).calendar(null, {\n      lastDay : '[Yesterday]',\n      sameDay : 'LT',\n      lastWeek : 'dddd',\n      sameElse : 'DD/MM/YY'\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/calendar.filter.js\n **/","import { Filter } from '../entities';\n\nexport default class chatName extends Filter {\n  filter(chat) {\n    if (!chat) return;\n\n    let otherId = _.without(chat.userIds, Meteor.userId())[0];\n    let otherUser = Meteor.users.findOne(otherId);\n    let hasName = otherUser && otherUser.profile && otherUser.profile.name;\n\n    return hasName ? otherUser.profile.name : chat.name || 'NO NAME';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/chat-name.filter.js\n **/","import { Filter } from '../entities';\n\nexport default class chatPicture extends Filter {\n  filter(chat) {\n    if (!chat) return;\n\n    let otherId = _.without(chat.userIds, Meteor.userId())[0];\n    let otherUser = Meteor.users.findOne(otherId);\n    let hasPicture = otherUser && otherUser.profile && otherUser.profile.picture;\n\n    return hasPicture ? otherUser.profile.picture : chat.picture || '/user-default.svg';\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filters/chat-picture.filter.js\n **/","import { Service } from '../entities';\n\nexport default class NewChat extends Service {\n  constructor() {\n    super(...arguments);\n\n    this.templateUrl = 'client/templates/new-chat.html';\n  }\n\n  showModal() {\n    this.scope = this.$rootScope.$new();\n\n    this.$ionicModal.fromTemplateUrl(this.templateUrl, {\n      scope: this.scope\n    })\n    .then((modal) => {\n      this.modal = modal;\n      this.modal.show();\n    });\n  }\n\n  hideModal() {\n    this.scope.$destroy();\n    this.modal.remove();\n  }\n}\n\nNewChat.$inject = ['$rootScope', '$ionicModal'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/services/new-chat.service.js\n **/","import { Config, Runner } from './entities';\n\nexport class RoutesConfig extends Config {\n  constructor() {\n    super(...arguments);\n\n    this.isAuthorized = ['$auth', this.isAuthorized.bind(this)];\n  }\n\n  configure() {\n    this.$stateProvider\n      .state('tab', {\n        url: '/tab',\n        abstract: true,\n        templateUrl: 'client/templates/tabs.html',\n        resolve: {\n          user: this.isAuthorized,\n          chats() {\n            return Meteor.subscribe('chats');\n          }\n        }\n      })\n      .state('tab.chats', {\n        url: '/chats',\n        views: {\n          'tab-chats': {\n            templateUrl: 'client/templates/chats.html',\n            controller: 'ChatsCtrl as chats'\n          }\n        }\n      })\n      .state('tab.chat', {\n        url: '/chats/:chatId',\n        views: {\n          'tab-chats': {\n            templateUrl: 'client/templates/chat.html',\n            controller: 'ChatCtrl as chat'\n          }\n        }\n      })\n      .state('login', {\n        url: '/login',\n        templateUrl: 'client/templates/login.html',\n        controller: 'LoginCtrl as logger'\n      })\n      .state('confirmation', {\n        url: '/confirmation/:phone',\n        templateUrl: 'client/templates/confirmation.html',\n        controller: 'ConfirmationCtrl as confirmation'\n      })\n      .state('profile', {\n        url: '/profile',\n        templateUrl: 'client/templates/profile.html',\n        controller: 'ProfileCtrl as profile',\n        resolve: {\n          user: this.isAuthorized\n        }\n      })\n      .state('tab.settings', {\n        url: '/settings',\n        views: {\n          'tab-settings': {\n            templateUrl: 'client/templates/settings.html',\n            controller: 'SettingsCtrl as settings',\n          }\n        }\n      });\n\n    this.$urlRouterProvider.otherwise('tab/chats');\n  }\n\n  isAuthorized($auth) {\n    return $auth.awaitUser();\n  }\n}\n\nexport class RoutesRunner extends Runner {\n  run() {\n    this.$rootScope.$on('$stateChangeError', (...args) => {\n      const err = _.last(args);\n\n      if (err === 'AUTH_REQUIRED') {\n        this.$state.go('login');\n      }\n    });\n  }\n}\n\nRoutesConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\nRoutesRunner.$inject = ['$rootScope', '$state'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes.js\n **/"],"sourceRoot":""}